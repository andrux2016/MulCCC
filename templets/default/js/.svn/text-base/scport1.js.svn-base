function apprise(f,a,g){var b={confirm:false,verify:false,input:false,animate:false,textOk:"Ok",textCancel:"Cancel",textYes:"Yes",textNo:"No",position:"center",buttonShow:true};if(a)for(var e in b)typeof a[e]=="undefined"&&(a[e]=b[e]);e=$(window).height();var k=$(window).width(),c=$('<div class="appriseOuter"></div>'),i=$('<div class="appriseOverlay" id="aOverlay"></div>'),h=$('<div class="appriseInner"></div>'),d=$('<div class="aButtons"></div>'),b=100;i.css({height:e*2,width:k*2}).appendTo("body").fadeIn(100,function(){$(this).css("filter","alpha(opacity=70)")});c.appendTo("body");h.append(f).appendTo(c);a&&a.input&&(typeof a.input=="string"&&h.append('<div class="aInput"><input type="text" class="aTextbox" t="aTextbox" value="'+a.input+'" /></div>'),typeof a.input=="object"?h.append($('<div class="aInput"></div>').append(a.input)):h.append('<div class="aInput"><input type="text" class="aTextbox" t="aTextbox" /></div>'),$(".aTextbox").focus());a.buttonShow&&(h.append(d),a?a.confirm||a.input?(d.append('<button value="ok">'+a.textOk+"</button>"),d.append('<button value="cancel">'+a.textCancel+"</button>")):a.verify?(d.append('<button value="ok">'+a.textYes+"</button>"),d.append('<button value="cancel">'+a.textNo+"</button>")):d.append('<button value="ok">'+a.textOk+"</button>"):d.append('<button value="ok">Ok</button>'));c.css("left",($(window).width()-$(".appriseOuter").width())/2+$(window).scrollLeft()+"px");a?(a.position&&a.position==="center"&&(b=(e-c.height())/2),a.animate?(f=a.animate,isNaN(f)&&(f=400),c.css("top","-200px").show().animate({top:b},f)):c.css("top",b).fadeIn(200)):c.css("top",b).fadeIn(200);$(document).keydown(function(a){i.is(":visible")&&(a.keyCode==13&&$('.aButtons > button[value="ok"]').click(),a.keyCode==27&&$('.aButtons > button[value="cancel"]').click())});var j=$(".aTextbox").val();j||(j=false);$(".aTextbox").keyup(function(){j=$(this).val()});$(".aButtons > button").click(function(){i.remove();c.remove();if(g){$(this).text("");var b=$(this).attr("value");b=="ok"?a?a.input?g(j):g(true):g(true):b=="cancel"&&g(false)}});return{close:function(){i.remove();c.remove()}}};
